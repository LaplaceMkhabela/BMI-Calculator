<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vitalis - Premium BMI Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #4a6fa5;
            --secondary: #166088;
            --accent: #4fc3f7;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: var(--dark);
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 1000px;
            overflow: hidden;
            display: grid;
            grid-template-columns: 1fr 1fr;
        }
        
        .calculator-section {
            padding: 40px;
            background: linear-gradient(145deg, #ffffff 0%, #f1f5f9 100%);
        }
        
        .visualization-section {
            padding: 40px;
            background: linear-gradient(145deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            display: flex;
            flex-direction: column;
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        h2 {
            font-size: 22px;
            margin-bottom: 30px;
            font-weight: 500;
            opacity: 0.8;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 14px;
            color: var(--dark);
        }
        
        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
            background-color: white;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(79, 195, 247, 0.2);
        }
        
        .input-group {
            display: flex;
            align-items: center;
            position: relative;
        }
        
        .input-group input {
            padding-right: 40px;
        }
        
        .unit {
            position: absolute;
            right: 15px;
            color: #777;
        }
        
        button {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            margin-top: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .result-container {
            display: none;
            margin-top: 30px;
            animation: fadeIn 0.5s ease-out;
        }
        
        .bmi-value {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .bmi-category {
            font-size: 20px;
            font-weight: 600;
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 20px;
        }
        
        .underweight {
            background-color: #ffeb3b;
            color: #ff6f00;
        }
        
        .normal {
            background-color: #4caf50;
            color: white;
        }
        
        .overweight {
            background-color: #ff9800;
            color: white;
        }
        
        .obese {
            background-color: #f44336;
            color: white;
        }
        
        .chart-container {
            height: 200px;
            margin: 30px 0;
        }
        
        .health-tips {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .health-tips h3 {
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .health-tips ul {
            padding-left: 20px;
        }
        
        .health-tips li {
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .info-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-top: auto;
            font-size: 13px;
            line-height: 1.6;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .visualization-section {
                order: -1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <section class="calculator-section">
            <h1>Vitalis BMI Calculator</h1>
            <h2>Understand your body composition</h2>
            
            <div class="form-group">
                <label for="gender">Gender</label>
                <select id="gender">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="age">Age</label>
                <input type="number" id="age" min="2" max="120" value="25">
            </div>
            
            <div class="form-group">
                <label for="height">Height</label>
                <div class="input-group">
                    <input type="number" id="height" min="50" max="250" value="170">
                    <span class="unit">cm</span>
                </div>
            </div>
            
            <div class="form-group">
                <label for="weight">Weight</label>
                <div class="input-group">
                    <input type="number" id="weight" min="10" max="300" value="70">
                    <span class="unit">kg</span>
                </div>
            </div>
            
            <button id="calculate-btn">Calculate BMI</button>
            
            <div class="result-container" id="result-container">
                <div class="bmi-value" id="bmi-value">24.2</div>
                <div class="bmi-category normal" id="bmi-category">Normal weight</div>
                
                <div class="chart-container">
                    <canvas id="bmi-chart"></canvas>
                </div>
                
                <div class="health-tips" id="health-tips">
                    <h3>Health Recommendations</h3>
                    <ul>
                        <li>Maintain your current weight with balanced diet</li>
                        <li>Engage in regular physical activity (150 mins/week)</li>
                        <li>Get adequate sleep (7-9 hours per night)</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section class="visualization-section">
            <h1>Your Health Report</h1>
            <h2>Visualizing your wellness journey</h2>
            
            <div id="visualization-content">
                <p>Complete the form to generate your personalized health report with BMI analysis and recommendations.</p>
                
                <div class="info-box">
                    <p><strong>BMI Ranges:</strong></p>
                    <p>Underweight: &lt; 18.5<br>
                    Normal weight: 18.5–24.9<br>
                    Overweight: 25–29.9<br>
                    Obesity: ≥ 30</p>
                </div>
            </div>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const calculateBtn = document.getElementById('calculate-btn');
            const resultContainer = document.getElementById('result-container');
            const bmiValue = document.getElementById('bmi-value');
            const bmiCategory = document.getElementById('bmi-category');
            const healthTips = document.getElementById('health-tips');
            const visualizationContent = document.getElementById('visualization-content');
            
            let bmiChart = null;
            
            calculateBtn.addEventListener('click', calculateBMI);
            
            function calculateBMI() {
                const height = parseFloat(document.getElementById('height').value) / 100; // Convert cm to m
                const weight = parseFloat(document.getElementById('weight').value);
                const age = parseInt(document.getElementById('age').value);
                const gender = document.getElementById('gender').value;
                
                const bmi = weight / (height * height);
                const roundedBMI = Math.round(bmi * 10) / 10;
                
                bmiValue.textContent = roundedBMI;
                
                // Determine BMI category
                let category, categoryClass, tips;
                
                if (bmi < 18.5) {
                    category = "Underweight";
                    categoryClass = "underweight";
                    tips = [
                        "Gradually increase calorie intake with nutrient-dense foods",
                        "Focus on strength training to build muscle mass",
                        "Consult a dietitian for personalized nutrition plan",
                        "Monitor weight gain progress weekly"
                    ];
                } else if (bmi >= 18.5 && bmi < 25) {
                    category = "Normal weight";
                    categoryClass = "normal";
                    tips = [
                        "Maintain your current weight with balanced diet",
                        "Engage in regular physical activity (150 mins/week)",
                        "Get adequate sleep (7-9 hours per night)",
                        "Schedule annual health check-ups"
                    ];
                } else if (bmi >= 25 && bmi < 30) {
                    category = "Overweight";
                    categoryClass = "overweight";
                    tips = [
                        "Aim for gradual weight loss (0.5-1kg per week)",
                        "Increase vegetable intake and reduce processed foods",
                        "Combine cardio and strength training exercises",
                        "Monitor portion sizes and meal frequency"
                    ];
                } else {
                    category = "Obese";
                    categoryClass = "obese";
                    tips = [
                        "Consult healthcare provider for weight management plan",
                        "Start with low-impact exercises (walking, swimming)",
                        "Keep a food diary to track eating habits",
                        "Set realistic short-term and long-term goals"
                    ];
                }
                
                // Update BMI category
                bmiCategory.textContent = category;
                bmiCategory.className = `bmi-category ${categoryClass}`;
                
                // Update health tips
                const tipsList = tips.map(tip => `<li>${tip}</li>`).join('');
                healthTips.innerHTML = `
                    <h3>Health Recommendations</h3>
                    <ul>${tipsList}</ul>
                `;
                
                // Update visualization
                updateVisualization(roundedBMI, category, categoryClass, age, gender);
                
                // Show results
                resultContainer.style.display = 'block';
            }
            
            function updateVisualization(bmi, category, categoryClass, age, gender) {
                // Update chart
                const ctx = document.getElementById('bmi-chart').getContext('2d');
                
                if (bmiChart) {
                    bmiChart.destroy();
                }
                
                const bmiRanges = [
                    { min: 0, max: 18.5, label: "Underweight", color: '#FFEB3B' },
                    { min: 18.5, max: 25, label: "Normal", color: '#4CAF50' },
                    { min: 25, max: 30, label: "Overweight", color: '#FF9800' },
                    { min: 30, max: 50, label: "Obese", color: '#F44336' }
                ];
                
                // Find current range
                const currentRange = bmiRanges.find(range => bmi >= range.min && bmi < range.max);
                const currentRangeIndex = bmiRanges.findIndex(range => bmi >= range.min && bmi < range.max);
                
                // Prepare data for chart
                const backgroundColors = bmiRanges.map((range, index) => 
                    index === currentRangeIndex ? range.color : `${range.color}40`
                );
                
                bmiChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: bmiRanges.map(range => range.label),
                        datasets: [{
                            data: bmiRanges.map(range => range.max),
                            backgroundColor: backgroundColors,
                            borderColor: bmiRanges.map(range => range.color),
                            borderWidth: 1,
                            barPercentage: 0.6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 40,
                                title: {
                                    display: true,
                                    text: 'BMI Value'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `Range: ${bmiRanges[context.dataIndex].min} - ${bmiRanges[context.dataIndex].max}`;
                                    }
                                }
                            },
                            annotation: {
                                annotations: {
                                    line1: {
                                        type: 'line',
                                        yMin: bmi,
                                        yMax: bmi,
                                        borderColor: 'rgb(0, 0, 0)',
                                        borderWidth: 2,
                                        borderDash: [6, 6],
                                        label: {
                                            content: `Your BMI: ${bmi}`,
                                            enabled: true,
                                            position: 'left'
                                        }
                                    }
                                }
                            }
                        }
                    }
                });
                
                // Update visualization content
                const genderText = gender === 'male' ? 'man' : 'woman';
                visualizationContent.innerHTML = `
                    <h3>Your BMI Analysis</h3>
                    <p>As a ${age}-year-old ${genderText}, your BMI of <strong>${bmi}</strong> 
                    falls in the <strong><span class="${categoryClass}">${category}</span></strong> category.</p>
                    
                    <div class="chart-container">
                        <canvas id="main-chart"></canvas>
                    </div>
                    
                    <div class="info-box">
                        <p><strong>Did you know?</strong> BMI is a screening tool but doesn't directly measure body fat. 
                        Athletes may have a high BMI due to muscle mass. For more comprehensive assessment, 
                        consider body fat percentage measurements.</p>
                    </div>
                `;
                
                // Create main chart
                const mainCtx = document.getElementById('main-chart').getContext('2d');
                new Chart(mainCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Healthy Range', 'Your Value'],
                        datasets: [{
                            data: [currentRange.max - currentRange.min, bmi - currentRange.min],
                            backgroundColor: [
                                `${currentRange.color}80`,
                                currentRange.color
                            ],
                            borderColor: [
                                `${currentRange.color}`,
                                currentRange.color
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        cutout: '70%',
                        plugins: {
                            legend: {
                                position: 'bottom'
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        if (context.label === 'Your Value') {
                                            return `Your BMI: ${bmi}`;
                                        } else {
                                            return `Healthy range: ${currentRange.min} - ${currentRange.max}`;
                                        }
                                    }
                                }
                            }
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>
